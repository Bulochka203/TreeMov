{% extends 'user_profile/layout.html' %}
{% block title %}Профиль{% endblock %}
{% block body %}mentor{% endblock %}
{% block content %}
<div class="mentor-page">
  <div class="mentor-header">
    <div class="exit">
      <a id="exit-link" href="{% url 'accounts:signout' %}">
        <div class="svg-exit">
          <svg viewBox="0 0 19 17" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M3.1665 8.49984C3.1665 8.6877 3.24991 8.86787 3.39838 9.0007C3.54684 9.13354 3.74821 9.20817 3.95817 9.20817H9.96692L8.14609 10.8303C8.07189 10.8961 8.01299 10.9744 7.9728 11.0608C7.93261 11.1471 7.91191 11.2397 7.91191 11.3332C7.91191 11.4267 7.93261 11.5193 7.9728 11.6056C8.01299 11.6919 8.07189 11.7702 8.14609 11.8361C8.21968 11.9025 8.30724 11.9552 8.40371 11.9911C8.50019 12.0271 8.60366 12.0456 8.70817 12.0456C8.81268 12.0456 8.91615 12.0271 9.01263 11.9911C9.1091 11.9552 9.19666 11.9025 9.27025 11.8361L12.4369 9.00275C12.509 8.93539 12.5655 8.85595 12.6032 8.769C12.6824 8.59655 12.6824 8.40312 12.6032 8.23067C12.5655 8.14372 12.509 8.06429 12.4369 7.99692L9.27025 5.16359C9.19644 5.09754 9.10881 5.04515 9.01237 5.00941C8.91593 4.97367 8.81256 4.95527 8.70817 4.95527C8.60378 4.95527 8.50041 4.97367 8.40397 5.00941C8.30753 5.04515 8.2199 5.09754 8.14609 5.16359C8.07227 5.22963 8.01372 5.30804 7.97377 5.39433C7.93383 5.48062 7.91326 5.5731 7.91326 5.6665C7.91326 5.7599 7.93383 5.85239 7.97377 5.93868C8.01372 6.02497 8.07227 6.10338 8.14609 6.16942L9.96692 7.7915H3.95817C3.74821 7.7915 3.54684 7.86613 3.39838 7.99897C3.24991 8.13181 3.1665 8.31198 3.1665 8.49984ZM13.4582 1.4165H5.5415C4.91161 1.4165 4.30752 1.64039 3.86213 2.0389C3.41673 2.43742 3.1665 2.97792 3.1665 3.5415V5.6665C3.1665 5.85437 3.24991 6.03453 3.39838 6.16737C3.54684 6.30021 3.74821 6.37484 3.95817 6.37484C4.16813 6.37484 4.3695 6.30021 4.51796 6.16737C4.66643 6.03453 4.74984 5.85437 4.74984 5.6665V3.5415C4.74984 3.35364 4.83324 3.17347 4.98171 3.04064C5.13018 2.9078 5.33154 2.83317 5.5415 2.83317H13.4582C13.6681 2.83317 13.8695 2.9078 14.018 3.04064C14.1664 3.17347 14.2498 3.35364 14.2498 3.5415V13.4582C14.2498 13.646 14.1664 13.8262 14.018 13.959C13.8695 14.0919 13.6681 14.1665 13.4582 14.1665H5.5415C5.33154 14.1665 5.13018 14.0919 4.98171 13.959C4.83324 13.8262 4.74984 13.646 4.74984 13.4582V11.3332C4.74984 11.1453 4.66643 10.9651 4.51796 10.8323C4.3695 10.6995 4.16813 10.6248 3.95817 10.6248C3.74821 10.6248 3.54684 10.6995 3.39838 10.8323C3.24991 10.9651 3.1665 11.1453 3.1665 11.3332V13.4582C3.1665 14.0218 3.41673 14.5623 3.86213 14.9608C4.30752 15.3593 4.91161 15.5832 5.5415 15.5832H13.4582C14.0881 15.5832 14.6922 15.3593 15.1375 14.9608C15.5829 14.5623 15.8332 14.0218 15.8332 13.4582V3.5415C15.8332 2.97792 15.5829 2.43742 15.1375 2.0389C14.6922 1.64039 14.0881 1.4165 13.4582 1.4165Z" fill="#B662D3"/>
            <path d="M3.39838 9.001C3.24991 8.86816 3.1665 8.68799 3.1665 8.50013C3.1665 8.31227 3.24991 8.1321 3.39838 7.99926C3.54684 7.86643 3.74821 7.7918 3.95817 7.7918H9.96692L8.14609 6.16971C8.07227 6.10367 8.01372 6.02527 7.97377 5.93898C7.93383 5.85268 7.91327 5.7602 7.91327 5.6668C7.91327 5.5734 7.93383 5.48091 7.97377 5.39462C8.01372 5.30833 8.07227 5.22993 8.14609 5.16388C8.2199 5.09784 8.30753 5.04545 8.40397 5.00971C8.50042 4.97396 8.60378 4.95557 8.70817 4.95557C8.81256 4.95557 8.91593 4.97396 9.01237 5.00971C9.10881 5.04545 9.19644 5.09784 9.27025 5.16388L12.4369 7.99721C12.509 8.06458 12.5655 8.14402 12.6032 8.23096C12.6824 8.40342 12.6824 8.59685 12.6032 8.7693C12.5655 8.85625 12.509 8.93568 12.4369 9.00305L9.27025 11.8364C9.19666 11.9028 9.1091 11.9555 9.01263 11.9914C8.91616 12.0274 8.81268 12.0459 8.70817 12.0459C8.60366 12.0459 8.50019 12.0274 8.40371 11.9914C8.30724 11.9555 8.21968 11.9028 8.14609 11.8364C8.07189 11.7705 8.01299 11.6922 7.9728 11.6059C7.93261 11.5196 7.91191 11.427 7.91191 11.3335C7.91191 11.24 7.93261 11.1474 7.9728 11.0611C8.01299 10.9747 8.07189 10.8964 8.14609 10.8305L9.96692 9.20846H3.95817C3.74821 9.20846 3.54684 9.13384 3.39838 9.001Z" fill="#B662D3"/>
          </svg>
        </div>
        <p class="exit-text">
          выход
        </p>
      </a>
    </div>
  </div>
  <div class="profile-info">
    <div class="prof-photo">
        <form method="post" enctype="multipart/form-data" action="{% url 'user_profile:get_photo' %}" id="pic-form">
          {% csrf_token %}
          {% if not data.photo %}
            <label class="image-button not-photo" for="input"></label>
          {% else %}
            <label class="image-button" for="input"><img class="profile-img" src="{{ data.photo.url }}" alt=""></label>
          {% endif %}
          <input type="file" name="pic" id="input" accept=".jpg, .png" onchange="load_pic()">
        </form>
    </div>
    <div class="information">
      <ul>
        {% if data.first_name and data.last_name %}
          <li class="gradient-text-lowercase">{{ data.first_name }} {{ data.last_name }}</li>
        {% else %}
          <li class="gradient-text-lowercase">User name</li>
        {% endif %}
      </ul>
    </div>
  </div>
  <svg class="background-icon" viewBox="0 0 144 144" fill="none" xmlns="http://www.w3.org/2000/svg">
    <g opacity="0.2">
      <rect x="2" y="2" width="140" height="140" rx="35" fill="white" stroke="url(#paint0_linear_401_553)" stroke-width="4"/>
      <path d="M111.319 24.3857C111.892 24.9833 112.245 25.7509 112.319 26.5631C112.392 27.3752 112.183 28.184 111.724 28.8571L86.9336 65.3098L110.391 72.3455C111.08 72.552 111.696 72.9507 112.161 73.4925C112.627 74.0344 112.922 74.6955 113.01 75.3943C113.098 76.0932 112.976 76.7992 112.658 77.4251C112.34 78.051 111.84 78.5695 111.221 78.9166L37.2061 120.465C36.4898 120.867 35.6519 121.018 34.829 120.893C34.0062 120.769 33.2468 120.375 32.6747 119.778C32.1026 119.18 31.7515 118.413 31.6787 117.601C31.6058 116.79 31.8155 115.983 32.2736 115.31L57.0662 78.8507L33.6089 71.815C32.9195 71.6085 32.304 71.2098 31.8386 70.668C31.3732 70.1261 31.0782 69.465 30.9899 68.7662C30.9017 68.0673 31.0241 67.3613 31.3421 66.7354C31.66 66.1095 32.1596 65.591 32.7791 65.2439L106.794 23.696C107.509 23.2941 108.346 23.1428 109.168 23.2668C109.99 23.3907 110.748 23.7827 111.321 24.3788L111.319 24.3857ZM43.84 67.384L63.9089 73.4033C64.4613 73.5689 64.9681 73.8585 65.3886 74.2489C65.809 74.6393 66.1314 75.1196 66.3297 75.6511C66.5281 76.1825 66.5968 76.7504 66.5305 77.309C66.4642 77.8676 66.2647 78.4013 65.9479 78.8672L47.1218 106.542L100.153 76.7744L80.0908 70.7572C79.5384 70.5916 79.0316 70.302 78.6112 69.9116C78.1907 69.5212 77.8684 69.0409 77.67 68.5094C77.4717 67.978 77.4029 67.4101 77.4692 66.8515C77.5356 66.2929 77.7351 65.7592 78.0519 65.2933L96.8779 37.6187L43.84 67.384Z" fill="url(#paint1_linear_401_553)"/>
      <path d="M43.84 67.384L63.9089 73.4033C64.4613 73.5689 64.9681 73.8585 65.3886 74.2489C65.809 74.6393 66.1314 75.1196 66.3297 75.6511C66.5281 76.1825 66.5968 76.7504 66.5305 77.309C66.4642 77.8676 66.2647 78.4013 65.9479 78.8672L47.1218 106.542L100.153 76.7744L80.0908 70.7572C79.5384 70.5916 79.0316 70.302 78.6112 69.9116C78.1907 69.5212 77.8684 69.0409 77.67 68.5094C77.4717 67.978 77.4029 67.4101 77.4692 66.8515C77.5356 66.2929 77.7351 65.7592 78.0519 65.2933L96.8779 37.6187L43.84 67.384Z" fill="url(#paint2_linear_401_553)"/>
    </g>
    <defs>
      <linearGradient id="paint0_linear_401_553" x1="72" y1="0" x2="72" y2="144" gradientUnits="userSpaceOnUse">
        <stop stop-color="#A816DB"/>
        <stop offset="1" stop-color="#16C1DB"/>
      </linearGradient>
      <linearGradient id="paint1_linear_401_553" x1="88.5109" y1="17.0316" x2="55.4888" y2="127.129" gradientUnits="userSpaceOnUse">
        <stop stop-color="#16C1DB"/>
        <stop offset="0.9999" stop-color="#A816DB"/>
        <stop offset="1" stop-color="#A816DB" stop-opacity="0"/>
      </linearGradient>
      <linearGradient id="paint2_linear_401_553" x1="88.5109" y1="17.0316" x2="55.4888" y2="127.129" gradientUnits="userSpaceOnUse">
        <stop stop-color="#16C1DB"/>
        <stop offset="0.9999" stop-color="#A816DB"/>
        <stop offset="1" stop-color="#A816DB" stop-opacity="0"/>
      </linearGradient>
    </defs>
  </svg>
  <div class="mentor-body">
    <div id="group-list" class="group-list no-cp">
      <div class="groups-header">
        <h1 class="gradient-text-lowercase no-cp">Группы</h1>
        <svg id="settings-btn" class="group-settings-button-icon svg-btn" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path opacity="0.4" d="M2.0835 13.4178V11.5845C2.0835 10.5011 2.96891 9.6053 4.06266 9.6053C5.94808 9.6053 6.71891 8.27197 5.771 6.63655C5.22933 5.69905 5.55225 4.4803 6.50016 3.93863L8.30225 2.90738C9.12516 2.4178 10.1877 2.70947 10.6772 3.53238L10.7918 3.7303C11.7293 5.36572 13.271 5.36572 14.2189 3.7303L14.3335 3.53238C14.8231 2.70947 15.8856 2.4178 16.7085 2.90738L18.5106 3.93863C19.4585 4.4803 19.7814 5.69905 19.2397 6.63655C18.2918 8.27197 19.0627 9.6053 20.9481 9.6053C22.0314 9.6053 22.9272 10.4907 22.9272 11.5845V13.4178C22.9272 14.5011 22.0418 15.397 20.9481 15.397C19.0627 15.397 18.2918 16.7303 19.2397 18.3657C19.7814 19.3136 19.4585 20.522 18.5106 21.0636L16.7085 22.0949C15.8856 22.5845 14.8231 22.2928 14.3335 21.4699L14.2189 21.272C13.2814 19.6365 11.7397 19.6365 10.7918 21.272L10.6772 21.4699C10.1877 22.2928 9.12516 22.5845 8.30225 22.0949L6.50016 21.0636C6.0461 20.8022 5.71431 20.3713 5.57761 19.8655C5.4409 19.3597 5.51045 18.8203 5.771 18.3657C6.71891 16.7303 5.94808 15.397 4.06266 15.397C2.96891 15.397 2.0835 14.5011 2.0835 13.4178Z" fill="url(#paint0_linear_401_550)"/>
          <path d="M12.5002 15.8853C13.398 15.8853 14.2591 15.5287 14.894 14.8938C15.5289 14.2589 15.8856 13.3978 15.8856 12.4999C15.8856 11.6021 15.5289 10.741 14.894 10.1061C14.2591 9.47118 13.398 9.1145 12.5002 9.1145C11.6023 9.1145 10.7412 9.47118 10.1063 10.1061C9.47142 10.741 9.11475 11.6021 9.11475 12.4999C9.11475 13.3978 9.47142 14.2589 10.1063 14.8938C10.7412 15.5287 11.6023 15.8853 12.5002 15.8853Z" fill="url(#paint1_linear_401_550)"/>
          <defs>
            <linearGradient id="paint0_linear_401_550" x1="12.5054" y1="2.66895" x2="12.5054" y2="22.3333" gradientUnits="userSpaceOnUse">
              <stop stop-color="#A816DB"/>
              <stop offset="1" stop-color="#16C1DB"/>
            </linearGradient>
            <linearGradient id="paint1_linear_401_550" x1="12.5002" y1="9.1145" x2="12.5002" y2="15.8853" gradientUnits="userSpaceOnUse">
              <stop stop-color="#A816DB"/>
              <stop offset="1" stop-color="#16C1DB"/>
            </linearGradient>
          </defs>
        </svg>
      </div>
      <div class="groups">
        {% for group in groups %}
          <div class="group">
            <div class="group-name-field">
              <a href="{% url 'user_profile:group_detail' pk=group.pk name=group.name %}" class="group-name">{{group}}</a>
            </div>
            <div hidden class="delete-btn-field">
              <form action="" method="post">
              {% csrf_token %}
              <input type="hidden" name="group-delete" value="{{group.pk}}"/>
              <button class="delete-btn">
                <svg class="delete-svg svg-btn" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <g clip-path="url(#clip0_401_640)">
                    <path opacity="0.4" d="M23.0398 23.0399C26.7824 19.2972 26.7824 13.2296 23.0398 9.48699C19.2971 5.74436 13.2295 5.74436 9.48689 9.48699C5.74426 13.2296 5.74426 19.2972 9.48689 23.0399C13.2295 26.7825 19.2971 26.7825 23.0398 23.0399Z" fill="black"/>
                    <path d="M18.4656 13.0446L16.2633 15.247L14.061 13.0446C13.7831 12.7668 13.3223 12.7668 13.0445 13.0446C12.7667 13.3225 12.7667 13.7833 13.0445 14.0611L15.2468 16.2634L13.0445 18.4658C12.7667 18.7436 12.7667 19.2044 13.0445 19.4822C13.3223 19.7601 13.7831 19.7601 14.061 19.4822L16.2633 17.2799L18.4656 19.4822C18.7435 19.7601 19.2043 19.7601 19.4821 19.4822C19.7599 19.2044 19.7599 18.7436 19.4821 18.4658L17.2798 16.2634L19.4821 14.0611C19.7599 13.7833 19.7599 13.3225 19.4821 13.0446C19.2043 12.7668 18.7435 12.7668 18.4656 13.0446Z" fill="black"/>
                  </g>
                </svg>
              </button>
            </form>
            </div>
          </div>
        {% empty %}
          <h1 class="empty-message">У вас пока нет групп</h1>
        {% endfor %}
        <div hidden id="add-save-btns">
          <button id="add-group-btn">
            <svg id="svg-add-group" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M34.1665 27.9167H30.4165V24.1667C30.4165 23.4834 29.8498 22.9167 29.1665 22.9167C28.4832 22.9167 27.9165 23.4834 27.9165 24.1667V27.9167H24.1665C23.4832 27.9167 22.9165 28.4834 22.9165 29.1667C22.9165 29.8501 23.4832 30.4167 24.1665 30.4167H27.9165V34.1667C27.9165 34.8501 28.4832 35.4167 29.1665 35.4167C29.8498 35.4167 30.4165 34.8501 30.4165 34.1667V30.4167H34.1665C34.8498 30.4167 35.4165 29.8501 35.4165 29.1667C35.4165 28.4834 34.8498 27.9167 34.1665 27.9167Z" fill="url(#paint0_linear_401_647)"/>
              <path opacity="0.4" d="M36.6667 14.1999V6.63325C36.6667 4.28325 35.6 3.33325 32.95 3.33325H26.2167C23.5667 3.33325 22.5 4.28325 22.5 6.63325V14.1833C22.5 16.5499 23.5667 17.4833 26.2167 17.4833H32.95C35.6 17.4999 36.6667 16.5499 36.6667 14.1999Z" fill="url(#paint1_linear_401_647)"/>
              <path d="M17.5002 14.1999V6.63325C17.5002 4.28325 16.4335 3.33325 13.7835 3.33325H7.05016C4.40016 3.33325 3.3335 4.28325 3.3335 6.63325V14.1833C3.3335 16.5499 4.40016 17.4833 7.05016 17.4833H13.7835C16.4335 17.4999 17.5002 16.5499 17.5002 14.1999Z" fill="url(#paint2_linear_401_647)"/>
              <path opacity="0.4" d="M17.5002 32.95V26.2167C17.5002 23.5667 16.4335 22.5 13.7835 22.5H7.05016C4.40016 22.5 3.3335 23.5667 3.3335 26.2167V32.95C3.3335 35.6 4.40016 36.6667 7.05016 36.6667H13.7835C16.4335 36.6667 17.5002 35.6 17.5002 32.95Z" fill="url(#paint3_linear_401_647)"/>
              <defs>
                <linearGradient id="paint0_linear_401_647" x1="29.1665" y1="22.9167" x2="29.1665" y2="35.4167" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#A816DB"/>
                  <stop offset="1" stop-color="#16C1DB"/>
                </linearGradient>
                <linearGradient id="paint1_linear_401_647" x1="29.5833" y1="3.33325" x2="29.5833" y2="17.4835" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#A816DB"/>
                  <stop offset="1" stop-color="#16C1DB"/>
                </linearGradient>
                <linearGradient id="paint2_linear_401_647" x1="10.4168" y1="3.33325" x2="10.4168" y2="17.4835" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#A816DB"/>
                  <stop offset="1" stop-color="#16C1DB"/>
                </linearGradient>
                <linearGradient id="paint3_linear_401_647" x1="10.4168" y1="22.5" x2="10.4168" y2="36.6667" gradientUnits="userSpaceOnUse">
                  <stop stop-color="#A816DB"/>
                  <stop offset="1" stop-color="#16C1DB"/>
                </linearGradient>
              </defs>
            </svg>
            Добавить
          </button>
        </div>
      </div>
    </div>
    <div id="generate-report">
      <button id="report-btn">Сформировать отчёт</button>
    </div>
  </div>
</div>
<script type="text/javascript" src="/static/js/profile/mentor_profile_settings_button.js"></script>
<div hidden id="modal" class="form-add-modal">
  <div class="modal-window">
    <p class="modal-title-text gradient-text-lowercase">Название</p>
    <form action="" method="post">
      {% csrf_token %}
      <input placeholder="придумайте название группы" id="input-group-name" name="group-name-input" class="input-group-name is-valid" type="text"/>
      <button id="add-group-btn-modal">Добавить</button>
    </form>
  </div>
  <div class="overlay-add-window"></div>
</div>
<div hidden id="modal-for-report" class="form-add-modal">
  <div class="modal-window">
    <p class="report-modal modal-title-text gradient-text-lowercase">Отчёт</p>
    <p class="title-modal-report">Выберите группы</p>
    <form action="{% url 'user_profile:create_report'%}" method="post">
      {% csrf_token %}
      <div id="groups-modal">
      </div>
      <p class="title-modal-report">Выберите период</p>
      <input type="text" name="dates"/>
        <script defer>
          $('input[name="dates"]').daterangepicker();
        </script>
      <button id="go-generate-report">Сформировать отчёт</button>
    </form>
  </div>
  <div class="overlay-add-window"></div>
</div>
{% endblock %}